# ============================================================================
# Architectus Documentation - CI/CD Playbook
# ============================================================================
# Uses GitHub URLs for CI/CD builds.
# For local development, use antora-playbook-local.yml
#
# Usage (CI):
#   npx antora antora-playbook.yml
# ============================================================================

site:
  title: Architectus
  url: https://docs.architectus.dev
  start_page: home::index.adoc
  keys:
    google_analytics: ''

content:
  sources:
    # Hub/Home (this repo)
    - url: https://github.com/EvanusModestus/architectus-docs
      branches: main
      start_path: docs

    # Technology Spokes
    - url: https://github.com/EvanusModestus/architectus-linux
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-windows
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-networking
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-security
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-automation
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-cloud
      branches: main
      start_path: docs/asciidoc

    # Humanities Spokes
    - url: https://github.com/EvanusModestus/architectus-literature
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-languages
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-mathematics
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-music
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-philosophy
      branches: main
      start_path: docs/asciidoc

    # Exploration Spokes
    - url: https://github.com/EvanusModestus/architectus-radio
      branches: main
      start_path: docs/asciidoc

    - url: https://github.com/EvanusModestus/architectus-navigation
      branches: main
      start_path: docs/asciidoc

ui:
  bundle:
    url: https://github.com/EvanusModestus/architectus-antora-ui/releases/latest/download/ui-bundle.zip
    snapshot: true

antora:
  extensions:
    - require: '@antora/lunr-extension'
      index_latest_only: true
      languages: [en, es, pt]

asciidoc:
  attributes:
    attribute-missing: skip
    page-pagination: ''
    hide-uri-scheme: ''
    tabs-sync-option: ''
    # Kroki via public API for CI
    kroki-server-url: https://kroki.io
    kroki-fetch-diagram: true
  extensions:
    - '@asciidoctor/tabs'
    - asciidoctor-kroki

output:
  dir: ./build/site
  clean: true

runtime:
  fetch: true
  cache_dir: .cache/antora
